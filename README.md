# ğŸª™ Bitcoin-Tausch-Netzwerk# ğŸ›’ Bitcoin Tausch Netzwerk# ğŸª™ Bitcoin-Tausch-Netzwerk



[![Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?logo=vercel)](https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app)

[![SvelteKit](https://img.shields.io/badge/SvelteKit-2.15-FF3E00?logo=svelte)](https://kit.svelte.dev/)

[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue?logo=typescript)](https://www.typescriptlang.org/)[![Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?logo=vercel)](https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app)[![Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?logo=vercel)](https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app)

[![Nostr](https://img.shields.io/badge/Nostr-Protocol-8B5CF6)](https://github.com/nostr-protocol/nostr)

[![SvelteKit](https://img.shields.io/badge/SvelteKit-5.4-FF3E00?logo=svelte)](https://kit.svelte.dev/)[![SvelteKit](https://img.shields.io/badge/SvelteKit-5.4-FF3E00?logo=svelte)](https://kit.svelte.dev/)

> **Dezentraler P2P-Marketplace fÃ¼r Bitcoin-TauschgeschÃ¤fte mit NIP-17 verschlÃ¼sselten Chats**

[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue?logo=typescript)](https://www.typescriptlang.org/)[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue?logo=typescript)](https://www.typescriptlang.org/)

Anonyme Marktplatz-Angebote treffen auf Ende-zu-Ende-verschlÃ¼sselte 1:1-Chats â€“ alles vollstÃ¤ndig dezentral Ã¼ber Nostr-Relays, ohne zentrale Server.

[![Nostr](https://img.shields.io/badge/Nostr-Protocol-8B5CF6)](https://github.com/nostr-protocol/nostr)[![Nostr](https://img.shields.io/badge/Nostr-Protocol-8B5CF6)](https://github.com/nostr-protocol/nostr)

---



## âœ¨ Features

> **Privacy-First Bitcoin Trading Platform mit NIP-17 verschlÃ¼sselten Nachrichten**> **Eine dezentrale, verschlÃ¼sselte Plattform fÃ¼r sichere Bitcoin-TauschgeschÃ¤fte Ã¼ber das Nostr-Protokoll**

### ğŸ” **Privacy-First Design**

- **TemporÃ¤re Keypairs** fÃ¼r vollstÃ¤ndige AnonymitÃ¤t im Marketplace

- **NIP-17 verschlÃ¼sselte DMs** - Ende-zu-Ende VerschlÃ¼sselung zwischen Handelspartnern

- **Keine Ã¶ffentlichen Interest-Tracker** - Alle Interessensbekundungen sind privatEin dezentrales, anonymes Bitcoin-Tauschsystem basierend auf Nostr, das vollstÃ¤ndig verschlÃ¼sselte private Kommunikation zwischen Handelspartnern ermÃ¶glicht.Anonyme Marktplatz-Angebote treffen auf Ende-zu-Ende-verschlÃ¼sselte Deal-Rooms â€“ alles ohne zentrale Server, vollstÃ¤ndig dezentral Ã¼ber Nostr-Relays.

- **Private Keys bleiben im Browser** - Niemals Ã¼bertragen oder gespeichert



### ğŸ’¬ **1:1 Deal-Chats**

- **Jeder Interessent = 1 private DM** zwischen Anbieter â†” Interessent## âœ¨ Features---

- **Mehrere Interessenten = Mehrere separate DM-Threads**

- **Anbieter wÃ¤hlt 1 DM aus** â†’ Diese DM wird zum Deal-Room

- **Kein Context-Switch** - Der Chat lÃ¤uft einfach weiter in derselben DM!

### ğŸ” **Privacy-First Design**## âœ¨ Features

### ğŸ›’ **Anonymer Marketplace**

- **Ã–ffentliche Angebote** sichtbar fÃ¼r alle Gruppenmitglieder- **Keine Ã¶ffentlichen Interest-Tracker** - Alle Interessensbekundungen sind privat

- **TemporÃ¤re IdentitÃ¤ten** schÃ¼tzen die PrivatsphÃ¤re

- **Ein-Klick Angebotserstellung** - Einfach und schnell- **NIP-17 verschlÃ¼sselte Nachrichten** - Ende-zu-Ende VerschlÃ¼sselung zwischen Usern### ğŸ” **Deal-Room System**

- **Automatisches Cleanup** - Angebote werden nach Deal-Start gelÃ¶scht

- **Anonyme Angebote** - TemporÃ¤re Keypairs schÃ¼tzen die IdentitÃ¤t- **Private verschlÃ¼sselte Chats** zwischen KÃ¤ufer und VerkÃ¤ufer

### ğŸ¨ **Nostr Dark Theme**

- **Modernes Design** in Pink (#FF006E), Violett (#8B5CF6) und Schwarz- **Private Deal-Rooms** - GeschÃ¼tzte Kommunikation fÃ¼r Handelsprozesse- **AES-256-CBC VerschlÃ¼sselung** mit gruppenspezifischen Keys

- **Responsive Layout** fÃ¼r Desktop, Tablet und Mobile

- **Smooth Animations** und Transitions- **Automatische Deal-Room-Erstellung** beim Interesse zeigen

- **Accessibility-optimiert** mit Keyboard-Support

### ğŸ’¬ **Erweiterte Kommunikation**- **Sichere SchlÃ¼sselverwaltung** im Browser (IndexedDB)

### âš¡ **Lightning-Spenden**

- **Bitcoin-Orange Spenden-Button** auf allen Seiten- **PersÃ¶nliche Nachrichten** - Nutzer kÃ¶nnen persÃ¶nliche Nachrichten in Deal-Anfragen senden

- **Lightning-Adresse** mit Ein-Klick-Kopieren

- **Floating Design** â€“ nicht aufdringlich- **VerschlÃ¼sselte DMs** - Alle Nachrichten sind NIP-17 verschlÃ¼sselt### ğŸ›’ **Anonymer Marketplace**



---- **Multi-User Support** - Skalierbare Architektur fÃ¼r beliebig viele Nutzer- **TemporÃ¤re Keypairs** fÃ¼r vollstÃ¤ndige AnonymitÃ¤t



## ğŸ¯ Workflow- **Real-time Updates** - Live-Aktualisierung von Anfragen und Angeboten- **Ã–ffentliche Angebote** sichtbar fÃ¼r alle Nutzer



### 1ï¸âƒ£ **Gruppe erstellen (Admin)**- **Interesse-System** mit automatischer Deal-Room-Einladung

- Admin generiert Secret und erstellt Group-Config auf Relay (Kind 30000)

- Whitelist wird initialisiert### ğŸ¤ **Nahtloser Handel**- **NIP-09 Delete Events** zum ZurÃ¼ckziehen von Interesse



### 2ï¸âƒ£ **Whitelist verwalten (Admin)**- **Ein-Klick Angebotserstellung** - Einfache Erstellung von Bitcoin-Tauschangeboten

- Admin fÃ¼gt NPubs zur Whitelist hinzu (Kind 30000)

- Nur gewhitelistete User kÃ¶nnen beitreten- **Smart Deal-Management** - Automatische Weiterleitung zu privaten Deal-Rooms### ğŸ¨ **Nostr Dark Theme**



### 3ï¸âƒ£ **Angebot erstellen**- **Automatisches Cleanup** - Angebote werden nach Deal-Erstellung automatisch gelÃ¶scht- **Modernes Design** in Pink (#FF006E), Violett (#8B5CF6) und Schwarz

- User erstellt Bitcoin-Tausch-Angebot (Kind 42)

- TemporÃ¤rer Keypair wird generiert â†’ **vollstÃ¤ndig anonym**- **Robuste Fehlerbehandlung** - ZuverlÃ¤ssige FunktionalitÃ¤t auch bei Netzwerkproblemen- **Responsive Layout** fÃ¼r Desktop, Tablet und Mobile

- Angebot ist fÃ¼r alle Gruppenmitglieder sichtbar

- **Smooth Animations** und Transitions

### 4ï¸âƒ£ **Interesse zeigen â†’ Private DM starten**

âš¡ï¸ **DER WICHTIGSTE SCHRITT:**### ğŸ”§ **Technische Highlights**- **Accessibility-optimiert** mit Keyboard-Support

- Interessent klickt auf "Interesse zeigen"

- **Startet private NIP-17 DM-Konversation** mit dem Anbieter (Kind 14)- **NIP-17 Implementation** - VollstÃ¤ndige UnterstÃ¼tzung fÃ¼r verschlÃ¼sselte Direktnachrichten

- Jeder Interessent = 1 separate DM-Thread

- 3 Interessenten = 3 separate DM-Konversationen- **Author-Tag System** - VerknÃ¼pfung temporÃ¤rer Keypairs mit echten Nutzerprofilen### ğŸŒ **Dezentrale Architektur**

- **Beide kÃ¶nnen sofort chatten!** Wie WhatsApp 1:1

- **NIP-09 Delete Events** - Korrekte LÃ¶schung von Angeboten aus Nostr-Relays- **Nostr-Protokoll** (NIP-01, NIP-09, NIP-12)

### 5ï¸âƒ£ **Partner auswÃ¤hlen**

- Anbieter sieht alle DM-Konversationen- **Modern UI/UX** - Responsive Design mit SvelteKit- **Keine zentralen Server** â€“ vollstÃ¤ndig P2P

- WÃ¤hlt **EINE DM** aus, mit der er den Deal machen will

- Diese DM wird zum "Deal-Room" markiert (Kind 30080)- **Relay-basierte Persistenz** mit lokalem Cache

- Alle anderen DMs werden ignoriert

- Marketplace-Angebot wird gelÃ¶scht (Kind 5)## ğŸš€ Schnellstart- **Echtzeit-Synchronisation** Ã¼ber WebSockets



### 6ï¸âƒ£ **Deal aushandeln**

- ğŸ¯ **Die gewÃ¤hlte DM lÃ¤uft einfach weiter!**

- Kein neuer Chat nÃ¶tig### Voraussetzungen### âš¡ **Lightning-Spenden**

- Beide chatten weiter in der NIP-17 DM

- Deal wird privat ausgehandelt- Node.js 18+ - **Bitcoin-Orange Spenden-Button** auf allen Seiten

- Transaktion erfolgt auÃŸerhalb der App

- npm oder yarn- **Lightning-Adresse** mit Ein-Klick-Kopieren

**ğŸ’¡ Vereinfachte Wahrheit:**

- **1 Interessent = 1 DM-Thread**- **Floating Design** â€“ nicht aufdringlich

- **Anbieter wÃ¤hlt 1 DM = Diese DM wird zum Deal-Room**

- **Kein separater "Deal-Room-Chat"! Die DM IST der Deal-Room!** ğŸ¯### Installation



---```bash---



## ğŸš€ Quick Start# Repository klonen



### Voraussetzungengit clone https://github.com/Walpurga03/Bitcoin-Tausch-Netzwerk.git## ğŸš€ Quick Start

- **Node.js** 18+ und **npm**

- Ein **Nostr-Relay** mit NIP-12 Support (empfohlen: eigener Relay)cd Bitcoin-Tausch-Netzwerk



### Installation### Voraussetzungen



```bash# Dependencies installieren

# Repository klonen

git clone https://github.com/Walpurga03/Bitcoin-Swap.gitnpm install- **Node.js** 18+ und **npm**

cd Bitcoin-Swap

- Ein **Nostr-Relay** mit NIP-12 Support (empfohlen: eigener Relay)

# Dependencies installieren

npm install# Development Server starten



# Development Server startennpm run dev### Installation

npm run dev

``````



Die App lÃ¤uft auf `http://localhost:5173````bash



---### Erste Schritte# Repository klonen



## ğŸ“– Verwendung1. **Account erstellen** - Generiere automatisch ein Nostr-Keypairgit clone https://github.com/Walpurga03/Bitcoin-Swap.git



### Als Admin: Neue Gruppe erstellen2. **Gruppe beitreten** - Verwende einen Einladungslink oder erstelle eine neue Gruppecd Bitcoin-Swap



1. Ã–ffne die App â†’ **"ğŸ†• Neue Gruppe erstellen"**3. **Angebot erstellen** - Stelle dein Bitcoin-Tauschangebot ein

2. Gib deinen **NSEC Private Key** ein (du wirst Admin)

3. WÃ¤hle ein **Relay** (Standard oder eigenes)4. **Private Anfragen erhalten** - Andere Nutzer kÃ¶nnen verschlÃ¼sselte Interessensbekundungen senden# Dependencies installieren

4. Lasse das **Secret automatisch generieren** (min. 8 Zeichen)

5. Klicke auf **"ğŸš€ Gruppe erstellen"**5. **Deal-Room starten** - WÃ¤hle einen Partner und beginne den privaten Handelnpm install



**Als Admin kannst du:**

- Whitelist verwalten (NPubs hinzufÃ¼gen/entfernen)

- Einladungslinks generieren## ğŸ—ï¸ Architektur# Development Server starten

- Die Gruppe kontrollieren

npm run dev

### Als User: Gruppe beitreten

### Nostr Integration```

1. Erhalte **Einladungslink** vom Admin

2. Ã–ffne die App â†’ **"ğŸ”— Gruppe beitreten"**- **Relays**: Dezentrale NachrichtenÃ¼bertragung

3. FÃ¼ge den Link ein

4. Gib deinen **NSEC Private Key** ein- **NIP-17**: Ende-zu-Ende verschlÃ¼sselte DirektnachrichtenDie App lÃ¤uft auf `http://localhost:5173`

5. Dein **Nostr-Profil** wird gegen Whitelist geprÃ¼ft

6. Klicke auf **"ğŸ”— Gruppe beitreten"**- **NIP-09**: Saubere LÃ¶schung von Events



**Wichtig:** Dein NPub muss auf der Whitelist sein!- **Temporary Keypairs**: Anonymer Handel ohne Preisgabe der HauptidentitÃ¤t---



### Marketplace: Angebot erstellen



1. Klicke auf **"+ Neues Angebot"**### Komponenten-Struktur## ğŸ“– Verwendung

2. Beschreibe dein Angebot (z.B. "Verkaufe 0.01 BTC fÃ¼r 500â‚¬")

3. **TemporÃ¤rer Keypair** wird automatisch generiert```

4. Angebot ist **anonym** fÃ¼r alle sichtbar

src/### 1ï¸âƒ£ **Neue Gruppe erstellen (Admin)**

### Interesse zeigen â†’ Deal-Room

â”œâ”€â”€ lib/

1. Finde ein interessantes Angebot

2. Klicke auf **"ğŸ’¬ Interesse zeigen"**â”‚   â”œâ”€â”€ components/          # UI Komponenten1. Ã–ffne die App und wÃ¤hle **"ğŸ†• Neue Gruppe erstellen"**

3. **Private NIP-17 DM** wird gestartet

4. Chatte mit dem Anbieterâ”‚   â”‚   â”œâ”€â”€ InterestModal.svelte    # Deal-Anfrage Interface2. Gib deinen **NSEC Private Key** ein (du wirst automatisch Admin)



**Wenn du gewÃ¤hlt wirst:**â”‚   â”‚   â”œâ”€â”€ InterestList.svelte     # Anzeige eingehender Anfragen3. WÃ¤hle ein **Relay** (Standard oder eigenes)

- Anbieter aktiviert den Deal-Room

- Die DM lÃ¤uft weiter (kein neuer Chat!)â”‚   â”‚   â””â”€â”€ WhitelistModal.svelte   # Admin-Funktionen4. Lasse das **Secret automatisch generieren** oder gib ein eigenes ein (min. 8 Zeichen)

- Deal wird privat ausgehandelt

â”‚   â”œâ”€â”€ nostr/              # Nostr-Implementierung5. Dein **Nostr-Profil** wird automatisch geladen

**Wenn du nicht gewÃ¤hlt wirst:**

- Deine DM wird einfach ignoriertâ”‚   â”‚   â”œâ”€â”€ nip17.ts        # VerschlÃ¼sselte Messaging6. Klicke auf **"ğŸš€ Gruppe erstellen"**

- Keine Benachrichtigung

â”‚   â”‚   â”œâ”€â”€ marketplace.ts  # Angebots-Management

---

â”‚   â”‚   â”œâ”€â”€ crypto.ts       # Kryptographische Funktionen> **Als Admin kannst du:**

## ğŸ—ï¸ Projekt-Struktur

â”‚   â”‚   â””â”€â”€ client.ts       # Nostr-Client> - Die Whitelist verwalten (Public Keys hinzufÃ¼gen/entfernen)

```

Bitcoin-Tausch-Netzwerk/â”‚   â””â”€â”€ stores/             # Svelte Stores> - Einladungslinks fÃ¼r neue User generieren

â”œâ”€â”€ src/

â”‚   â”œâ”€â”€ lib/â”œâ”€â”€ routes/                 # SvelteKit Routes> - Die Gruppe vollstÃ¤ndig kontrollieren

â”‚   â”‚   â”œâ”€â”€ components/

â”‚   â”‚   â”‚   â”œâ”€â”€ DonationButton.svelteâ”‚   â”œâ”€â”€ (app)/group/        # Haupt-Trading Interface

â”‚   â”‚   â”‚   â”œâ”€â”€ InterestModal.svelte

â”‚   â”‚   â”‚   â”œâ”€â”€ UnifiedNotificationSystem.svelteâ”‚   â”œâ”€â”€ admin/              # Admin-Panel### 2ï¸âƒ£ **Gruppe beitreten (User)**

â”‚   â”‚   â”‚   â””â”€â”€ WhitelistModal.svelte

â”‚   â”‚   â”œâ”€â”€ nostr/â”‚   â””â”€â”€ +page.svelte        # Landing Page

â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts              # TypeScript Interfaces

â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts             # Nostr Events & Publishing```1. Erhalte einen **Einladungslink** vom Gruppen-Admin

â”‚   â”‚   â”‚   â”œâ”€â”€ crypto.ts             # VerschlÃ¼sselung

â”‚   â”‚   â”‚   â”œâ”€â”€ nip17.ts              # NIP-17 DM Implementation2. Ã–ffne die App und wÃ¤hle **"ğŸ”— Gruppe beitreten"**

â”‚   â”‚   â”‚   â””â”€â”€ marketplace.ts        # Marketplace Logic

â”‚   â”‚   â”œâ”€â”€ security/## ğŸ” Sicherheit & Privacy3. FÃ¼ge den **Einladungslink** ein

â”‚   â”‚   â”‚   â””â”€â”€ validation.ts         # Input-Validierung & Rate-Limiting

â”‚   â”‚   â”œâ”€â”€ stores/4. Gib deinen **NSEC Private Key** ein

â”‚   â”‚   â”‚   â”œâ”€â”€ userStore.ts          # User State

â”‚   â”‚   â”‚   â”œâ”€â”€ groupStore.ts         # Marketplace State### VerschlÃ¼sselung5. Dein **Nostr-Profil** wird geladen und gegen die **Whitelist** geprÃ¼ft

â”‚   â”‚   â”‚   â””â”€â”€ dealStore.ts          # Deal-Room State

â”‚   â”‚   â””â”€â”€ config.ts                 # App-Konfiguration- **NIP-17 Encryption**: Alle Nachrichten sind mit ECDH + ChaCha20-Poly1305 verschlÃ¼sselt6. Klicke auf **"ğŸ”— Gruppe beitreten"**

â”‚   â”œâ”€â”€ routes/

â”‚   â”‚   â”œâ”€â”€ +page.svelte              # Login/Join Page- **Forward Secrecy**: Einmalige SchlÃ¼ssel fÃ¼r jede Nachricht

â”‚   â”‚   â”œâ”€â”€ +layout.svelte            # Layout mit Notifications

â”‚   â”‚   â”œâ”€â”€ (app)/group/+page.svelte  # Marketplace- **Metadata Protection**: Minimale Metadaten, maximale Privacy> **Wichtig:** Dein Public Key muss vom Admin zur Whitelist hinzugefÃ¼gt worden sein!

â”‚   â”‚   â”œâ”€â”€ (app)/deal/[dealId]/+page.svelte  # Deal-Room Chat

â”‚   â”‚   â””â”€â”€ admin/+page.svelte        # Admin Panel

â”‚   â””â”€â”€ app.css                       # Nostr Dark Theme

â”œâ”€â”€ test-relay-query.js                # Relay Debugging Tool### AnonymitÃ¤t> **Tipp:** Dein Private Key bleibt im Browser und wird niemals Ã¼bertragen!

â”œâ”€â”€ RELAY-OPERATIONS.md                # VollstÃ¤ndige Dokumentation

â”œâ”€â”€ package.json- **Temporary Keypairs**: Angebote werden mit temporÃ¤ren SchlÃ¼sseln erstellt

â”œâ”€â”€ vite.config.ts

â”œâ”€â”€ svelte.config.js- **Author Tags**: Sichere VerknÃ¼pfung ohne IdentitÃ¤tspreisgabe### 3ï¸âƒ£ **Marketplace: Angebot erstellen**

â””â”€â”€ tsconfig.json

```- **No Public Tracking**: Keine Ã¶ffentlich sichtbaren Interest-Tracker



---1. Klicke auf **"+ Neues Angebot"**



## ğŸ” Sicherheit### AuthentizitÃ¤t2. Beschreibe dein Angebot (z.B. "Verkaufe 0.01 BTC fÃ¼r 500â‚¬")



### Implementierte MaÃŸnahmen- **Kryptographische Signaturen**: Alle Events sind digital signiert3. Ein **temporÃ¤rer Keypair** wird automatisch generiert



âœ… **NIP-17 End-to-End VerschlÃ¼sselung** â€“ MilitÃ¤rische Sicherheit fÃ¼r DMs  - **Relay Verification**: Mehrere Relays fÃ¼r Redundanz4. Dein Angebot ist jetzt **anonym** fÃ¼r alle sichtbar

âœ… **Client-seitige VerschlÃ¼sselung** â€“ Private Keys bleiben im Browser  

âœ… **TemporÃ¤re Keypairs** â€“ VollstÃ¤ndige AnonymitÃ¤t im Marketplace  - **Delete Authentication**: Nur Ersteller kÃ¶nnen eigene Angebote lÃ¶schen

âœ… **Signatur-Validierung** â€“ Alle Nostr-Events werden validiert  

âœ… **Input-Validierung** â€“ Schutz vor Injection-Angriffen  ### 4ï¸âƒ£ **Interesse zeigen**

âœ… **Rate-Limiting** â€“ Schutz vor Spam (20 Requests/Minute)  

âœ… **IndexedDB** â€“ Sichere lokale Speicherung von Keys  ## ğŸ› ï¸ Development



### Best Practices1. Finde ein interessantes Angebot



1. **Private Keys**: Niemals in Git committen oder teilen### Projekt-Setup2. Klicke auf **"ğŸ’¬ Interesse zeigen"**

2. **Relays**: Verwende vertrauenswÃ¼rdige Relays oder betreibe eigene

3. **Transaktionen**: Wickle Bitcoin-Transfers nur Ã¼ber sichere KanÃ¤le ab```bash3. Ein **privater Deal-Room** wird automatisch erstellt

4. **Backups**: Sichere deinen NSEC Private Key offline

# Development mit Hot-Reload4. Du erhÃ¤ltst eine **verschlÃ¼sselte Einladung**

---

npm run dev

## ğŸŒ Nostr NIPs

### 5ï¸âƒ£ **Deal-Room: Sicherer Chat**

Dieses Projekt implementiert:

# Production Build

- **NIP-01**: Basic Protocol Flow (Events, Signing, Validation)

- **NIP-09**: Event Deletion (Angebote lÃ¶schen)npm run build1. Ã–ffne den **Deal-Room** Ã¼ber die Benachrichtigung

- **NIP-12**: Generic Tag Queries (`#t` Filtering)

- **NIP-17**: Private Direct Messages (Gift-Wrapped Messages)2. Chatte **Ende-zu-Ende-verschlÃ¼sselt** mit dem Anbieter

- **NIP-33**: Parameterized Replaceable Events (Whitelist, Deal-Rooms)

# Preview Build3. Vereinbare die **Transaktionsdetails** sicher

---

npm run preview4. Wickle den **Tausch auÃŸerhalb der App** ab

## ğŸ› ï¸ Technologie-Stack



| Kategorie | Technologie |

|-----------|-------------|# Type Checking### 6ï¸âƒ£ **Admin: Whitelist verwalten**

| **Frontend** | SvelteKit 2.15, Svelte 4.2 |

| **Sprache** | TypeScript 5.7 |npm run check

| **Protokoll** | Nostr (nostr-tools 2.10) |

| **VerschlÃ¼sselung** | NIP-17 (ChaCha20-Poly1305) |```1. Als Admin klicke auf **"ğŸ” Whitelist verwalten"**

| **Build-Tool** | Vite 5.4 |

| **Deployment** | Vercel (@sveltejs/adapter-vercel) |2. **Public Keys hinzufÃ¼gen**: Gib npub oder hex ein und klicke auf "â• HinzufÃ¼gen"

| **Styling** | Custom CSS mit Nostr Dark Theme |

### Wichtige NPM Scripts3. **Public Keys entfernen**: Klicke auf "ğŸ—‘ï¸ Entfernen" neben einem Eintrag

---

- `dev` - Development Server (Port 5173)4. **Einladungslink generieren**: Klicke auf "âœ¨ Link generieren" und teile ihn mit neuen Usern

## ğŸ“¦ Deployment

- `build` - Production Build fÃ¼r Deployment

### Vercel (empfohlen)

- `preview` - Preview der Production Build> **Wichtig:** Die App dient nur zur Kontaktanbahnung. Die eigentliche Transaktion erfolgt extern!

```bash

# Vercel CLI installieren- `check` - TypeScript Type Checking

npm install -g vercel

- `check:watch` - Type Checking im Watch-Modus---

# Login

vercel login



# Deployment### Code-Struktur## ğŸ—ï¸ Projekt-Struktur

vercel --prod

```- **SvelteKit** - Full-Stack Web Framework



**Live URL**: [https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app](https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app)- **TypeScript** - Type-Safe Development```



### Build Commands- **Nostr-Tools** - Nostr Protocol ImplementationBitcoin-Tausch-Netzwerk/



```bash- **NDK** - Nostr Development Kit fÃ¼r erweiterte Featuresâ”œâ”€â”€ src/

# Development

npm run devâ”‚   â”œâ”€â”€ lib/



# Production Build## ğŸ“š API Referenzâ”‚   â”‚   â”œâ”€â”€ components/

npm run build

â”‚   â”‚   â”‚   â””â”€â”€ DonationButton.svelte    # Lightning-Spenden-Button

# Preview Build

npm run preview### Marketplace APIâ”‚   â”‚   â”œâ”€â”€ nostr/



# Type Checking```typescriptâ”‚   â”‚   â”‚   â”œâ”€â”€ types.ts                 # TypeScript Interfaces

npm run check

// Angebot erstellenâ”‚   â”‚   â”‚   â”œâ”€â”€ client.ts                # Nostr Client & Events

# Type Checking (Watch Mode)

npm run check:watchawait createOffer(content, tempKeypair, relay, channelId, authorPubkey);â”‚   â”‚   â”‚   â””â”€â”€ crypto.ts                # AES-256 VerschlÃ¼sselung

```

â”‚   â”‚   â”œâ”€â”€ security/

---

// Angebote ladenâ”‚   â”‚   â”‚   â””â”€â”€ validation.ts            # Input-Validierung

## ğŸ› Debugging

const offers = await loadOffers(relay, channelId, ownTempPubkey);â”‚   â”‚   â”œâ”€â”€ stores/

### Relay-Events prÃ¼fen

â”‚   â”‚   â”‚   â”œâ”€â”€ userStore.ts             # User State

```bash

# Alle Events der letzten Stunde anzeigen// Angebot lÃ¶schenâ”‚   â”‚   â”‚   â”œâ”€â”€ groupStore.ts            # Group State

npx tsx test-relay-query.js

```await deleteOffer(offerId, tempPrivateKey, tempPublicKey, relay);â”‚   â”‚   â”‚   â””â”€â”€ dealStore.ts             # Deal-Room State



**Zeigt:**```â”‚   â”‚   â””â”€â”€ utils/

- Marketplace-Angebote (Kind 42)

- NIP-17 DMs (Kind 14)â”‚   â”‚       â””â”€â”€ index.ts                 # Utility-Funktionen

- Interest-Tracking (Kind 30078)

- Deal-Rooms (Kind 30080)### NIP-17 Messaging APIâ”‚   â”œâ”€â”€ routes/

- Deletion-Events (Kind 5)

```typescriptâ”‚   â”‚   â”œâ”€â”€ +page.svelte                 # Login-Seite

### Browser Console

// VerschlÃ¼sselte Nachricht sendenâ”‚   â”‚   â”œâ”€â”€ +layout.svelte               # Layout mit Donation-Button

Ã–ffne **F12** fÃ¼r detaillierte Logs:

- `[FETCH]` - Relay-Queriesawait sendDirectMessage(senderPrivateKey, recipientPubkey, content, relay);â”‚   â”‚   â””â”€â”€ (app)/

- `[PUBLISH]` - Event-Publishing

- `[NIP-17]` - VerschlÃ¼sselte Nachrichtenâ”‚   â”‚       â”œâ”€â”€ group/+page.svelte       # Marketplace

- `[STORE]` - State-Updates

// Deal-Anfragen ladenâ”‚   â”‚       â””â”€â”€ deal/[dealId]/+page.svelte  # Deal-Room Chat

---

const requests = await loadDealRequests(recipientPrivateKey, relay);â”‚   â””â”€â”€ app.css                          # Nostr Dark Theme

## ğŸ¤ Beitragen

â”œâ”€â”€ package.json                         # Dependencies

Contributions sind willkommen! So kannst du helfen:

// Deal-Room erstellenâ”œâ”€â”€ vite.config.ts                       # Vite Config

1. **Fork** das Repository

2. **Branch** erstellen: `git checkout -b feature/AmazingFeature`const dealId = await createDealRoom(privateKey, partnerPubkey, content, relay);â”œâ”€â”€ svelte.config.js                     # SvelteKit Config

3. **Commit** deine Ã„nderungen: `git commit -m 'Add AmazingFeature'`

4. **Push** zum Branch: `git push origin feature/AmazingFeature````â”œâ”€â”€ tsconfig.json                        # TypeScript Config

5. **Pull Request** Ã¶ffnen

â”œâ”€â”€ vercel.json                          # Vercel Deployment

### Development Guidelines

## ğŸ¤ Contributingâ”œâ”€â”€ .env.example                         # Environment Variables

- TypeScript fÃ¼r alle neuen Features

- Comprehensive Error Handlingâ”œâ”€â”€ .gitignore                           # Git Ignore

- Privacy-First Design Principles

- Responsive UI ComponentsBeitrÃ¤ge sind willkommen! Bitte beachte:â””â”€â”€ README.md                            # Diese Datei

- AusfÃ¼hrliche Code-Dokumentation

```

---

1. **Fork** das Repository

## ğŸ’° Spenden

2. **Feature Branch** erstellen (`git checkout -b feature/amazing-feature`)---

UnterstÃ¼tze die Entwicklung mit Bitcoin Lightning:

3. **Commit** deine Ã„nderungen (`git commit -m 'Add amazing feature'`)

**Lightning-Adresse**: `aldo.barazutti@walletofsatoshi.com`

4. **Push** zu Branch (`git push origin feature/amazing-feature`)## ğŸ” Sicherheit

Oder nutze den **Spenden-Button** in der App (unten rechts) âš¡

5. **Pull Request** Ã¶ffnen

---

### Implementierte MaÃŸnahmen

## ğŸ“„ Lizenz

### Development Guidelines

MIT License â€“ siehe [LICENSE](LICENSE) fÃ¼r Details

- TypeScript fÃ¼r alle neuen Featuresâœ… **Client-seitige VerschlÃ¼sselung** â€“ Private Keys bleiben im Browser  

---

- Comprehensive Error Handlingâœ… **AES-256-CBC** â€“ MilitÃ¤rische VerschlÃ¼sselung fÃ¼r Deal-Rooms  

## âš ï¸ Disclaimer

- Privacy-First Design Principlesâœ… **TemporÃ¤re Keypairs** â€“ VollstÃ¤ndige AnonymitÃ¤t im Marketplace  

- Dies ist eine **Proof-of-Concept-Implementation**

- FÃ¼r Production sollten **zusÃ¤tzliche Sicherheitsaudits** durchgefÃ¼hrt werden- Responsive UI Componentsâœ… **Signatur-Validierung** â€“ Alle Nostr-Events werden validiert  

- Private Keys sollten **sicher gespeichert** werden (z.B. mit Browser-Extension)

- Die App dient nur zur **Kontaktanbahnung** â€“ Transaktionen erfolgen extern- AusfÃ¼hrliche Code-Dokumentationâœ… **Input-Validierung** â€“ Schutz vor Injection-Angriffen  



---âœ… **Rate-Limiting** â€“ Schutz vor Spam (20 Requests/Minute)  



## ğŸ”— Links## ğŸ“„ Lizenzâœ… **IndexedDB** â€“ Sichere lokale Speicherung von Keys  



- **Dokumentation**: [RELAY-OPERATIONS.md](RELAY-OPERATIONS.md)

- **Nostr Protocol**: [github.com/nostr-protocol/nostr](https://github.com/nostr-protocol/nostr)

- **nostr-tools**: [github.com/nbd-wtf/nostr-tools](https://github.com/nbd-wtf/nostr-tools)Dieses Projekt ist unter der MIT Lizenz verÃ¶ffentlicht. Siehe [LICENSE](LICENSE) fÃ¼r Details.### Best Practices

- **SvelteKit**: [kit.svelte.dev](https://kit.svelte.dev/)



---

## ğŸ”— Links1. **Private Keys**: Niemals in Git committen oder teilen

## ğŸ“ Support

2. **Relays**: Verwende vertrauenswÃ¼rdige Relays oder betreibe eigene

Bei Fragen oder Problemen:

- **Nostr Protocol**: [nostr.com](https://nostr.com)3. **Transaktionen**: Wickle Bitcoin-Transfers nur Ã¼ber sichere KanÃ¤le ab

1. Ã–ffne ein **Issue** auf GitHub

2. PrÃ¼fe die **Browser-Console** (F12) fÃ¼r Debug-Informationen- **NIP-17 Specification**: [github.com/nostr-protocol/nips](https://github.com/nostr-protocol/nips/blob/master/17.md)4. **Backups**: Sichere deinen NSEC Private Key offline

3. Lies die **[RELAY-OPERATIONS.md](RELAY-OPERATIONS.md)** Dokumentation

4. Nutze **test-relay-query.js** fÃ¼r Relay-Debugging- **SvelteKit Docs**: [kit.svelte.dev](https://kit.svelte.dev)



---- **NDK Documentation**: [ndk.fyi](https://ndk.fyi)---



**Entwickelt mit â¤ï¸ fÃ¼r die dezentrale Zukunft**



*Powered by Nostr Protocol & Bitcoin Lightning Network*---## ğŸŒ Nostr NIPs



âš¡ **Dezentral. Privat. Sicher.** âš¡


**âš¡ Dezentral. Privat. Sicher. âš¡**Dieses Projekt implementiert folgende Nostr Implementation Possibilities:



*Gebaut fÃ¼r die Bitcoin-Community von der Bitcoin-Community.*- **NIP-01**: Basic Protocol Flow (Events, Signing, Validation)
- **NIP-09**: Event Deletion (Angebote & Interesse zurÃ¼ckziehen)
- **NIP-12**: Generic Tag Queries (`#t=bitcoin-group` Filtering)
- **Custom Encryption**: AES-256-CBC fÃ¼r Deal-Rooms

### Warum eigene VerschlÃ¼sselung?

Wir verwenden **AES-256-CBC** statt NIP-04 oder NIP-17, weil:

- ğŸ” **GruppenverschlÃ¼sselung**: Ein Key fÃ¼r alle Deal-Room-Teilnehmer
- ğŸ¯ **Einfachheit**: Weniger KomplexitÃ¤t als Gift-Wrapped Messages
- ğŸ›¡ï¸ **BewÃ¤hrt**: AES-256 ist militÃ¤rischer Standard
- ğŸš€ **Performance**: Schneller als mehrfache VerschlÃ¼sselung

---

## ğŸ“¦ Deployment

### Vercel (empfohlen)

```bash
# Vercel CLI installieren
npm install -g vercel

# Login
vercel login

# Deployment
vercel --prod
```

**Live URL**: [https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app](https://bitcoin-swap-gmsbyi0um-walpurga03s-projects.vercel.app)

### Andere Plattformen

```bash
# Build erstellen
npm run build

# 'build' Ordner deployen
# Adapter kann in svelte.config.js angepasst werden
```

---

## ğŸ› ï¸ Technologie-Stack

| Kategorie | Technologie |
|-----------|-------------|
| **Frontend** | SvelteKit 2.15, Svelte 4.2 |
| **Sprache** | TypeScript 5.7 |
| **Protokoll** | Nostr (nostr-tools 2.10) |
| **VerschlÃ¼sselung** | AES-256-CBC (Web Crypto API) |
| **Build-Tool** | Vite 5.4 |
| **Deployment** | Vercel (@sveltejs/adapter-vercel) |
| **Styling** | Custom CSS mit Nostr Dark Theme |

---

## ğŸ¤ Beitragen

Contributions sind willkommen! So kannst du helfen:

1. **Fork** das Repository
2. **Branch** erstellen: `git checkout -b feature/AmazingFeature`
3. **Commit** deine Ã„nderungen: `git commit -m 'Add AmazingFeature'`
4. **Push** zum Branch: `git push origin feature/AmazingFeature`
5. **Pull Request** Ã¶ffnen

---

## ğŸ’° Spenden

UnterstÃ¼tze die Entwicklung mit Bitcoin Lightning:

**Lightning-Adresse**: `aldo.barazutti@walletofsatoshi.com`

Oder nutze den **Spenden-Button** in der App (unten rechts) âš¡

---

## ğŸ“„ Lizenz

MIT License â€“ siehe [LICENSE](LICENSE) fÃ¼r Details

---

## âš ï¸ Disclaimer

- Dies ist eine **Proof-of-Concept-Implementation**
- FÃ¼r Production sollten **zusÃ¤tzliche Sicherheitsaudits** durchgefÃ¼hrt werden
- Private Keys sollten **sicher gespeichert** werden (z.B. mit Browser-Extension)
- Die App dient nur zur **Kontaktanbahnung** â€“ Transaktionen erfolgen extern

---

## ğŸ”— Links

- [Nostr Protocol](https://github.com/nostr-protocol/nostr)
- [nostr-tools](https://github.com/nbd-wtf/nostr-tools)
- [SvelteKit](https://kit.svelte.dev/)
- [Vercel](https://vercel.com/)

---

## ğŸ“ Support

Bei Fragen oder Problemen:

1. Ã–ffne ein **Issue** auf GitHub
2. PrÃ¼fe die **Browser-Console** (F12) fÃ¼r Debug-Informationen
3. Kontaktiere uns Ã¼ber **Nostr** (npub1hht9umpeet75w55uzs9lq6ksayfpcvl9lk64hye75j0yj4husq5ss8xsry)

---

**Entwickelt mit â¤ï¸ fÃ¼r die dezentrale Zukunft**

*Powered by Nostr Protocol & Bitcoin Lightning Network*