// =====================================
// üé® COMPONENTS - SPECIALIZED STYLES
// =====================================

@use 'variables' as *;
@use 'mixins' as *;

// üîî NOTIFICATIONS & TOASTS
.notification {
  position: fixed;
  top: 1rem;
  right: 1rem;
  z-index: 1000;
  max-width: 350px;
  @include card;
  @include slide-up;
  
  &.success {
    border-left: 4px solid $success;
    .notification-icon { color: $success; }
  }
  
  &.error {
    border-left: 4px solid $error;
    .notification-icon { color: $error; }
  }
  
  &.info {
    border-left: 4px solid $info;
    .notification-icon { color: $info; }
  }
  
  .notification-content {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    
    .notification-icon {
      font-size: $font-size-lg;
      margin-top: 0.25rem;
    }
    
    .notification-text {
      flex: 1;
      
      .notification-title {
        font-weight: $font-weight-semibold;
        margin-bottom: 0.25rem;
      }
      
      .notification-message {
        font-size: $font-size-sm;
        color: $text-dark-secondary;
      }
    }
    
    .notification-close {
      background: none;
      border: none;
      color: $text-dark-secondary;
      cursor: pointer;
      padding: 0.25rem;
      
      &:hover {
        color: $text-dark;
      }
    }
  }
}

// üìä STATS CARDS
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 2rem 0;
}

.stat-card {
  @include card;
  text-align: center;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: $gradient-primary;
  }
  
  .stat-value {
    font-size: $font-size-3xl;
    font-weight: $font-weight-bold;
    @include text-gradient;
    margin-bottom: 0.5rem;
  }
  
  .stat-label {
    color: $text-dark-secondary;
    font-size: $font-size-sm;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .stat-change {
    margin-top: 0.5rem;
    font-size: $font-size-xs;
    
    &.positive {
      color: $success;
      
      &::before {
        content: '‚Üó';
        margin-right: 0.25rem;
      }
    }
    
    &.negative {
      color: $error;
      
      &::before {
        content: '‚Üò';
        margin-right: 0.25rem;
      }
    }
  }
}

// üåê NETWORK STATUS
.network-status {
  @include card;
  margin: 1rem 0;
  
  .status-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
    
    .status-title {
      font-weight: $font-weight-semibold;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .refresh-btn {
      background: none;
      border: none;
      color: $nostr-violet;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: $border-radius-sm;
      transition: all $transition-fast;
      
      &:hover {
        background: rgba($nostr-violet, 0.1);
      }
      
      &.loading {
        @include loading-spin;
      }
    }
  }
  
  .relays-list {
    .relay-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba($glass-border, 0.3);
      
      &:last-child {
        border-bottom: none;
      }
      
      .relay-info {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        
        .relay-url {
          font-family: $font-family-mono;
          font-size: $font-size-sm;
        }
      }
      
      .relay-metrics {
        display: flex;
        gap: 1rem;
        font-size: $font-size-xs;
        color: $text-dark-secondary;
        
        .metric {
          display: flex;
          align-items: center;
          gap: 0.25rem;
        }
      }
    }
  }
}

// üíº WALLET SELECTOR
.wallet-selector {
  @include card;
  
  .wallet-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    
    .wallet-option {
      @include glass(0.1);
      padding: 1rem;
      border-radius: $border-radius-md;
      text-align: center;
      cursor: pointer;
      transition: all $transition-normal;
      border: 2px solid transparent;
      
      &:hover {
        @include glass(0.2);
        transform: translateY(-2px);
        box-shadow: $shadow-md;
      }
      
      &.selected {
        border-color: $nostr-violet;
        @include neon-glow($nostr-violet);
      }
      
      &.disabled {
        opacity: 0.5;
        cursor: not-allowed;
        
        &:hover {
          transform: none;
          box-shadow: none;
        }
      }
      
      .wallet-icon {
        font-size: $font-size-2xl;
        margin-bottom: 0.5rem;
        
        img {
          width: 32px;
          height: 32px;
          border-radius: $border-radius-sm;
        }
      }
      
      .wallet-name {
        font-weight: $font-weight-medium;
        margin-bottom: 0.25rem;
      }
      
      .wallet-status {
        font-size: $font-size-xs;
        color: $text-dark-secondary;
      }
    }
  }
}

// üîç SEARCH & FILTERS
.search-filters {
  @include card;
  margin: 1rem 0;
  
  .search-bar {
    position: relative;
    margin-bottom: 1rem;
    
    input {
      padding-left: 3rem;
    }
    
    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: $text-dark-secondary;
    }
    
    .search-clear {
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: $text-dark-secondary;
      cursor: pointer;
      
      &:hover {
        color: $text-dark;
      }
    }
  }
  
  .filter-row {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    
    @include mobile {
      flex-direction: column;
    }
    
    .filter-group {
      flex: 1;
      min-width: 150px;
    }
  }
  
  .filter-tags {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin-top: 1rem;
    
    .filter-tag {
      background: $gradient-secondary;
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: $border-radius-sm;
      font-size: $font-size-sm;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      
      .remove-filter {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: $font-size-xs;
        
        &:hover {
          opacity: 0.8;
        }
      }
    }
  }
}

// üìà PRICE CHART
.price-chart {
  @include card;
  
  .chart-header {
    display: flex;
    justify-content: between;
    align-items: center;
    margin-bottom: 1rem;
    
    .chart-title {
      font-weight: $font-weight-semibold;
    }
    
    .chart-timeframes {
      display: flex;
      gap: 0.5rem;
      
      .timeframe-btn {
        padding: 0.25rem 0.75rem;
        border: 1px solid $glass-border;
        background: transparent;
        color: $text-dark-secondary;
        border-radius: $border-radius-sm;
        cursor: pointer;
        transition: all $transition-fast;
        
        &:hover, &.active {
          background: $nostr-violet;
          color: white;
          border-color: $nostr-violet;
        }
      }
    }
  }
  
  .chart-container {
    height: 300px;
    position: relative;
    
    canvas {
      width: 100%;
      height: 100%;
    }
  }
}

// üéØ LOADING STATES
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba($bg-dark, 0.8);
  backdrop-filter: blur(5px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  
  .loading-content {
    text-align: center;
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 3px solid rgba($nostr-violet, 0.3);
      border-top: 3px solid $nostr-violet;
      border-radius: 50%;
      @include loading-spin;
      margin: 0 auto 1rem;
    }
    
    .loading-text {
      color: $text-dark;
      font-weight: $font-weight-medium;
    }
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    rgba($glass-border, 0.3) 0%,
    rgba($glass-border, 0.5) 50%,
    rgba($glass-border, 0.3) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: $border-radius-sm;
  
  @keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  &.skeleton-text {
    height: 1em;
    margin-bottom: 0.5rem;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  &.skeleton-title {
    height: 1.5em;
    width: 60%;
  }
  
  &.skeleton-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
  }
  
  &.skeleton-button {
    height: 38px;
    width: 120px;
  }
}
